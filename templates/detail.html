{% extends 'base/content.html' %} {% block section_after_nav %} {% endblock %}
{% block page_content %}
{% load extra_tags %}
<div style="padding: 0 3rem">
    <header class="section" style="padding-bottom: 1.5rem; margin-bottom: 1.5rem">
        <div class="container">
            <h1 class="title is-1">
                {{ recipe.name }}
            </h1>
            <p class="subtitle is-4">
                <!-- send to index view for now -->
                Recipe by
                <a href="{% url 'koocook_core:index'%}">{{ recipe.author.name }}</a>
            </p>

            <div class="field is-grouped is-grouped-multiline">
                <div class="control">
                    {% for tag in recipe.tag_set.all %}
                        <span class="tag  is-medium">{{ tag.name }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </header>

    <section class="section" style="padding-top: 0">
        <div class="container">
            <figure class="image is-4928x3264" style="margin-bottom: 1.5rem">
                <img src="{{ recipe.image|first }}" alt="pancake close up"/>
            </figure>
            <p class="subtitle is-6">
                <!-- Have no image credit models -->
                <strong>Image Credit:</strong> <a href="">Skitterphoto</a>
            </p>
        </div>
    </section>

    <section class="section" style="padding-top: 0">
        <div class="container">
            <div class="columns is-multiline">
                <div class="column is-half">
                    <nav class="level is-mobile">
                        <div class="level-item has-text-centered">
                            <div>
                                <p class="heading">Time</p>
                                {% if recipe.total_time.seconds > 0 %}
                                    {% if recipe.total_time.seconds > 60 %}
                                        {% if recipe.total_time.seconds > 3600 %}
                                            <p class="title">
                                                {{ recipe.total_time.seconds|hours }}
                                                {{ recipe.total_time.seconds|minutes }}
                                            </p>
                                        {% else %}
                                            <p class="title">
                                                {{ recipe.total_time.seconds|minutes }}
                                            </p>
                                        {% endif %}
                                    {% else %}
                                        <p class="title">1 M</p>
                                    {% endif %}
                                {% else %}
                                    <p class="title">-</p>
                                {% endif %}
                            </div>
                        </div>
                        <div class="level-item has-text-centered">
                            <div>
                                <!-- Have no Measure cooking skill -->
                                <p class="heading">Difficulty</p>
                                <p class="title">Simple</p>
                            </div>
                        </div>
                    </nav>
                    <nav class="level is-mobile">
                        <div class="level-item">
                            <!-- times -->
                            <progress
                                    class="level-item progress is-success"
                                    value="{{ recipe.total_time.seconds|time_bar }}"
                                    max="6"
                                    style="border-radius: 0; height: 0.2rem"
                            ></progress>
                        </div>
                        <div class="level-item">
                            <!-- skills -->
                            <progress
                                    class="level-item progress is-success"
                                    value="1"
                                    max="3"
                                    style="border-radius: 0; height: 0.2rem"
                            ></progress>
                        </div>
                    </nav>
                </div>
                <div class="column is-half">
                    <nav class="level is-mobile">
                        <div class="level-item has-text-centered">
                            <div>
                                <p class="heading">Views</p>
                                <p class="title">456K</p>
                            </div>
                        </div>
                        <div class="level-item has-text-centered">
                            <div>
                                <p class="heading">Ratings</p>
                                <p class="title">{{ recipe.aggregate_rating.rating_value|rating }}/5.0</p>
                            </div>
                        </div>
                    </nav>
                    <nav class="level is-mobile">
                        <div class="level-item">
                            <progress
                                    class="progress is-hidden"
                                    value="0"
                                    max="100"
                                    style="border-radius: 0; height: 0.2rem"
                            ></progress>
                        </div>
                        <div class="level-item">
                            <progress
                                    class="progress is-info"
                                    value="{{ recipe.aggregate_rating.rating_value|rating }}"
                                    max="5"
                                    style="border-radius: 0; height: 0.2rem"
                            ></progress>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </section>

    <section class="section" style="padding-top: 0">
        <div class="container" style="padding: 0 5%">
            <div class="tile is-ancestor">
                <div class="tile is-vertical">
                    <div class="tile">
                        <div class="tile is-parent">
                            <div class="tile is-child">
                                <h3 class="title is-4">
                                    Ingredients
                                </h3>
                                <div class="content">
                                    <ul style="list-style-type: none">
                                        {% for ingredient in recipe.recipe_ingredient %}
                                        <li>{{ ingredient }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="tile is-parent">
                            <div class="tile is-child">
                                <h3 class="title is-4">
                                    Equipment
                                </h3>
                                <div class="content">
                                    <ul style="list-style-type: none">
                                        <!-- <li>Whisk</li>
                                          <li>Large bowl</li>
                                          <li>Medium bowl</li>
                                          <li>Griddle or large skillet</li>
                                          <li>Spatula</li>
                                          <li>Measuring cup</li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tile is-parent">
                        <div class="tile is-child">
                            <h3 class="title is-4">
                                Instruction
                            </h3>
                            <div class="content" style="">
                                <ol>
                                    {% for instruction in recipe.recipe_instructions %}
                                    <li>{{ instruction }}</li>
                                    {% endfor %}
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" style="padding-top: 0">
        <div class="container">
            <hr style="margin-top: 0"/>
            <h2 class="title">
                Comments
            </h2>

            <article class="media">
                <figure class="media-left">
                    <p class="image is-64x64">
                        <img src="../assets/img/placeholders/128x128.png"/>
                    </p>
                </figure>
                <div class="media-content">
                    <div class="content">
                        <p>
                            <strong>Barbara Middleton</strong>
                            <br/>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis
                            porta eros lacus, nec ultricies elit blandit non. Suspendisse
                            pellentesque mauris sit amet dolor blandit rutrum.
                            <s>Nunc in tempus turpis.</s>
                            <br/>
                            <small><a>Like</a> · <a>Reply</a> · 3 hrs</small>
                        </p>
                    </div>

                    <article class="media">
                        <figure class="media-left">
                            <p class="image is-48x48">
                                <img src="../assets/img/placeholders/96x96.png"/>
                            </p>
                        </figure>
                        <div class="media-content">
                            <div class="content">
                                <p>
                                    <strong>Sean Brown</strong>
                                    <br/>
                                    Donec sollicitudin urna eget eros malesuada sagittis.
                                    Pellentesque habitant morbi tristique senectus et netus et
                                    malesuada fames ac turpis egestas. Aliquam blandit nisl a
                                    nulla sagittis, a lobortis leo feugiat.
                                </p>
                                <blockquote>
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis
                                    porta eros lacus, nec ultricies elit blandit non.
                                </blockquote>
                                <p>
                                    Morbi vitae diam et purus tincidunt porttitor vel vitae augue.
                                    Praesent malesuada metus sed pharetra euismod. Cras tellus
                                    odio, tincidunt iaculis diam non, porta aliquet tortor.
                                    <br/>
                                    <small>5 <a>Like</a> · <a>Reply</a> · 2 hrs</small>
                                </p>
                            </div>
                        </div>
                    </article>

                    <article class="media">
                        <figure class="media-left">
                            <p class="image is-48x48">
                                <img src="../assets/img/placeholders/96x96.png"/>
                            </p>
                        </figure>
                        <div class="media-content">
                            <div class="content">
                                <p>
                                    <strong>Kayli Eunice </strong>
                                    <br/>
                                    Sed convallis scelerisque mauris, non pulvinar nunc mattis
                                    vel. Maecenas varius felis sit amet magna vestibulum euismod
                                    malesuada cursus libero. Vestibulum ante ipsum primis in
                                    faucibus orci luctus et ultrices posuere cubilia Curae;
                                    Phasellus lacinia non nisl id feugiat.
                                    <br/>
                                    <small>12 <a>Like</a> · <a>Reply</a> · 2 hrs</small>
                                </p>
                            </div>
                        </div>
                    </article>
                </div>
            </article>
            <article class="media">
                <figure class="media-left">
                    <p class="image is-64x64">
                        <img src="../assets/img/placeholders/128x128.png"/>
                    </p>
                </figure>
                <div class="media-content">
                    <div class="content">
                        <p>
                            <strong>John Smith</strong>
                            <br/>
                            <strong>The pancakes were so <em>perfectly</em> fluffy!</strong> I
                            put some <em>fresh</em> figs and blueberries on top.
                            <br/>
                            <small><a>Like</a> · <a>Reply</a> · 31 mins</small>
                        </p>
                    </div>
                </div>
            </article>
            <article class="media">
                <figure class="media-left">
                    <p class="image is-64x64">
                        <img src="../assets/img/placeholders/128x128.png"/>
                    </p>
                </figure>
                <div class="media-content">
                    <div class="field">
                        <p class="control">
              <textarea
                      class="textarea"
                      placeholder="Add a comment..."
              ></textarea>
                        </p>
                    </div>
                    <div class="field">
                        <p class="control">
                            <button class="button is-primary">Post comment</button>
                        </p>
                    </div>
                </div>
            </article>
        </div>
    </section>
    {% endblock %}
</div>
